## TCP协议

1. **三次握手**

   > 1. 客户端向服务器发送一个SYN报文，表示客户端请求建立连接，并选择一个随机的初始序列号x。
   > 2. 服务器收到SYN报文后，回复一个SYN+ACK报文，表示服务器已经收到了客户端的请求，确认可以建立连接，并选择一个随机的初始序列号y，同时将确认序号设置为x+1。
   > 3. 客户端收到服务器的SYN+ACK报文后，向服务器回复一个ACK报文，表示客户端已经收到了服务器的确认，同时将确认序号设置为y+1，表示客户端准备开始发送数据

2. **四次挥手**

   > 1. 客户端发送一个FIN报文，用来关闭客户端到服务器的数据传输。
   > 2. 服务器接收到FIN报文，发送一个ACK报文，用来确认收到了客户端的FIN报文。
   > 3. 服务器发送一个FIN报文，用来关闭服务器到客户端的数据传输。
   > 4. 客户端接收到FIN报文，发送一个ACK报文，用来确认收到了服务器的FIN报文。

3. **滑动窗口**

   - ​	基本要素

   > TCP滑动窗口是TCP协议中**实现流量控制和拥塞控制的重要机制**。它的本质是利用发送方和接收方协调窗口大小的变化来保证可靠传输和网络拥塞控制。
   >
   > **窗口控制**：发送方会根据接收方的通告窗口大小和网络拥塞情况动态地调整自己发送数据的速率和窗口大小，以避免网络拥塞和数据丢失。接收方会根据自己的缓冲区大小和处理能力通告发送方自己的窗口大小，以告知发送方可以发送的数据量。
   >
   > 滑动窗口的实现主要基于两个变量：**发送方窗口大小**和**接收方窗口大小**。**发送方窗口大小表示发送方缓冲区中可以发送但还未收到确认的数据的最大数量，接收方窗口大小表示接收方缓冲区中可以接收的最大数据量**。发送方每发送一个数据包，就会把发送方窗口大小减少该数据包的大小，接收方每收到一个数据包，就会把接收方窗口大小减少该数据包的大小。

   - 调整方式

> ​	TCP中滑动窗口的调整方式有以下两种：
>
> 1. **慢启动**（Slow Start）：**在连接开始时，TCP发送方通过逐渐增加拥塞窗口（即滑动窗口的大小）来找到网络的最大传输容量，以此来实现拥塞控制。当发送方开始发送数据时，它将拥塞窗口设置为一个较小的值，然后每收到一个确认就将拥塞窗口增加一倍，直到达到一个预设的阈值。**在这个阈值之前，拥塞窗口每次翻倍，而在阈值之后，每次只增加一个MSS（最大报文长度），以避免网络拥塞。
> 2. **拥塞避免**（Congestion Avoidance）：**当拥塞窗口的大小达到一个阈值时，TCP进入拥塞避免阶段。在这个阶段，TCP发送方会以较小的速率递增拥塞窗口的大小，而不是以指数级别递增，以此来避免网络拥塞**。具体来说，TCP发送方每次发送一个报文段，拥塞窗口只会增加一个MSS的大小，而不是像慢启动阶段那样翻倍增加。
>
> 通过这两种方式，TCP可以在传输数据时根据网络状况调整拥塞窗口的大小，以避免网络拥塞和数据丢失。



## UDP协议

1. 特点

   > UDP（User Datagram Protocol）协议是一种无连接的、不可靠的传输层协议。UDP协议的基本特点如下：
   >
   > 1. **无连接**：UDP不需要在传输数据之前建立连接，发送方直接向接收方发送数据，而不用等待接收方的确认。
   > 2. **不可靠**：UDP不提供任何可靠性保证，发送方发送数据后无法得到接收方是否收到数据的确认，也无法保证数据的顺序和完整性。
   > 3. **简单快速**：UDP协议的头部较小，不需要像TCP协议那样进行三次握手建立连接、数据重传等复杂的操作，因此UDP传输速度比TCP更快。
   > 4. **支持广播和多播**：UDP可以向同一网络中的多个主机同时发送相同的数据，因此适合用于实现广播和多播服务。
   > 5. **适用于实时性要求高的应用场景**：由于UDP协议传输数据时不需要等待确认，也不需要重传数据，因此在实时性要求较高的应用场景中，UDP更适合于传输实时音视频等数据。
   > 6. **没有拥塞控制**：UDP不提供拥塞控制机制，当网络拥塞时，UDP协议仍然会继续发送数据，可能会导致网络更加拥堵。

   

## 端口

> 端口是一个16位的标识符，用于标识一台计算机中不同的应用程序或服务。**在传输层（TCP或UDP）中，每个数据包都需要通过端口号来确定它所要传送到的应用程序或服务**。
>
> 具体来说，当一台计算机向另一台计算机发送数据时，数据被分为多个数据包，每个数据包都包含源端口和目的端口。源端口是发送端计算机上的应用程序或服务使用的端口号，目的端口则是接收端计算机上的应用程序或服务使用的端口号。**通过端口号，接收端计算机可以将数据包传送给正确的应用程序或服务，完成数据传输的过程。**
>
> 因此，端口号在网络通信中扮演了非常重要的角色，它是实现网络应用程序之间通信的关键