Executor调优一般从资源分配角度考虑

1. CPU资源分配

   > - **默认策略**：每个 executor 中使用所有可用的 CPU 核心来处理任务；
   > - **手动配置**策略：根据任务特点分配cpu核心；
   > - **任务本地化**策略：任务本地化可以减少数据传输和网络开销并，同时能保证本地cpu资源最大限度被利用；
   > - **调整并行度**策略：根据任务特性可设置任务并行度，保证任务可以充分利用cpu资源。

2. 内存资源分配

   > - **均匀分配**：在这种策略下，Spark 会将 executor 内存均匀分配给所有可用的任务。这种策略适用于应用程序中所有任务对内存需求相等的情况。在 Spark 中，可以通过配置文件中的 `spark.executor.memory` 参数来设置 executor 内存总量。
   > - **动态分配**：在这种策略下，Spark 会根据任务的内存需求动态分配 executor 内存。具体来说，当一个任务需要更多的内存时，Spark 会自动将一部分内存分配给该任务；当任务完成时，Spark 会将内存释放回来。在 Spark 中，可以通过配置文件中的 `spark.executor.memoryOverhead` 参数来设置内存分配比例，它表示 executor 内存总量的百分比，用于缓存和 JVM 堆外内存等其他内存需求。
   > - **内存固定分配**：在这种策略下，Spark 会为每个任务固定分配一定量的内存。这种策略适用于应用程序中任务对内存需求有明确的限制的情况。在 Spark 中，可以通过配置文件中的 `spark.executor.memory` 参数来设置每个任务被分配的内存量。

   > *****
   >
   > 1. **内存分配不足**：如果 executor 的内存分配不足，可能会导致任务无法在内存中完成计算，而不得不将数据写入磁盘，这会导致极大的性能下降。此外，内存分配不足也可能导致 executor 发生 OOM 错误而失败。
   > 2. **内存分配过多**：如果 executor 的内存分配过多，可能会导致 executor 使用的内存过多，导致系统的缓存和其他进程的可用内存变少。这会影响其他任务的运行，从而影响系统的整体性能。
   > 3. **内存分配不均匀**：如果 executor 的内存分配不均匀，可能会导致某些任务在某些 executor 上运行时出现资源争夺，而其他 executor 上则资源利用不足的情况。这可能会导致任务的整体性能下降。

3. 