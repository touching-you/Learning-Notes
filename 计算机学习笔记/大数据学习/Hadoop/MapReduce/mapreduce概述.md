### MapReduce 概述

#### 优点：

1. 易于编程，用户直观性业务逻辑，实现框架的接口。
2. 良好的拓展性，可以动态的增加服务器，解决计算资源不够问题。
3. 高容错性，任何一台机器挂掉，可以将任务转移到其他节点。
4. 适合海量数据计算（TB/PB），几千台服务器共同计算。

#### 缺点：

1. 不擅长实时计算。mysql
2. 不擅长流式计算。flink、sparkstreaming
3. 不擅长DAG有向无环图计算。spark

#### 核心思想

- MapReduce的核心思想是将大规模数据处理任务分解成可以并行处理的小任务，并在多台计算机上同时执行这些任务，最终将结果进行合并。MapReduce将数据处理过程分为两个阶段：**Map**和**Reduce**。
- 在Map阶段，MapReduce将输入数据切分成多个数据块，并将这些数据块分发到多个计算节点上进行处理。每个计算节点将自己所处理的数据块转换为一系列键值对，并将这些键值对作为中间输出。这些中间输出将根据其键的值进行排序，并将相同键值的数据合并成一组。
- 在Reduce阶段，MapReduce将所有中间输出数据按照键值对的键进行分组，将每组数据传输到一个Reduce节点进行处理。Reduce节点将对每组数据进行处理，将其转换为最终结果并将其写入输出文件。（**每次Reduce得到的结果都要持久化到磁盘，这也是其不擅长DAG计算的原因**）
- MapReduce的核心思想是分治和并行化，通过将数据处理任务分解成小任务并在多个计算节点上同时执行这些任务，可以实现高效的数据处理。同时，MapReduce具有高可扩展性，可以处理大规模数据集，并且在节点故障等情况下可以实现容错处理。

#### 注

> 有向**无环图（DAG）计算策略**是一种在分布式系统中进行大规模数据处理的常见方式。该策略通过将计算过程分解成多个阶段（也称为任务或作业），并将这些阶段组成有向无环图来实现。每个阶段可以并行执行，同时每个阶段的输出将被用作下一个阶段的输入。
>
> 下面是DAG计算策略的基本步骤：
>
> 1. 将大规模计算过程分解为多个阶段，每个阶段都能并行执行，并且具有一定的输入和输出。
> 2. 将这些阶段组成有向无环图，确保每个阶段的输入都来自于前置阶段的输出。
> 3. 将DAG提交给分布式计算框架，如Hadoop或Spark。
> 4. 计算框架将DAG拆分为多个子图，并将每个子图分配给不同的计算节点。
> 5. 每个计算节点按照DAG中定义的顺序执行它们所分配的子图。
> 6. 计算节点将输出传递给下一个子图或合并最终输出。
>
> 使用DAG计算策略可以有效地将大规模计算任务分解为多个阶段，并实现并行化计算。这可以提高计算效率，同时还可以在出现错误或失败时更容易地恢复计算过程。